<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction to Capstone</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: #111827;
            min-height: 100vh;
            padding: 20px;
            color: #d1d5db;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #1f2937;
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #111827 0%, #1f2937 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .header p {
            font-size: 1em;
            opacity: 0.85;
            font-weight: 400;
        }

        .content {
            padding: 45px 40px;
        }

        .section {
            margin-bottom: 40px;
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #f3f4f6;
            margin-bottom: 25px;
            font-size: 1.8em;
            border-bottom: 2px solid #374151;
            padding-bottom: 12px;
            font-weight: 600;
        }

        h3 {
            color: #e5e7eb;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.3em;
            font-weight: 600;
        }

        h4 {
            color: #f3f4f6;
            margin-top: 15px;
            margin-bottom: 12px;
            font-size: 1.1em;
            font-weight: 600;
        }

        p, li {
            line-height: 1.7;
            color: #d1d5db;
            margin-bottom: 15px;
            font-size: 1em;
        }

        ul, ol {
            margin-left: 25px;
            margin-bottom: 20px;
        }

        .highlight-box {
            background: rgba(30, 58, 138, 0.3);
            border-left: 4px solid #3b82f6;
            padding: 25px;
            margin: 25px 0;
            border-radius: 6px;
        }

        .project-areas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .project-card {
            background: #374151;
            border: 1px solid #4b5563;
            border-radius: 8px;
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            border-color: #60a5fa;
            background: #4b5563;
        }

        .project-card h4 {
            color: #f3f4f6;
            margin-bottom: 10px;
            font-size: 1.15em;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #374151;
        }

        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 28px;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        button:hover {
            background: #2563eb;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }

        button:disabled {
            background: #4b5563;
            cursor: not-allowed;
            box-shadow: none;
            color: #9ca3af;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #374151;
            border-radius: 8px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #3b82f6;
            transition: width 0.5s ease;
        }

        .quiz-section {
            background: #374151;
            padding: 30px;
            border-radius: 8px;
            margin: 25px 0;
        }

        .pincode-overlay {
            background: #1f2937;
            border: 1px solid #4b5563;
            padding: 40px;
            border-radius: 8px;
            text-align: center;
            margin: 25px 0;
        }

        .pincode-overlay h3 {
            color: #f3f4f6;
            margin-bottom: 20px;
            font-size: 1.3em;
        }

        .pincode-overlay p {
            margin-bottom: 20px;
            color: #d1d5db;
        }

        .pincode-input {
            padding: 12px 16px;
            font-size: 1.1em;
            border: 2px solid #3b82f6;
            border-radius: 6px;
            text-align: center;
            width: 200px;
            margin-right: 10px;
            color: #f3f4f6;
            background: #1f2937;
        }

        .pincode-input:focus {
            outline: none;
            border-color: #60a5fa;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
        }

        .pincode-error {
            color: #f87171;
            margin-top: 15px;
            display: none;
            font-weight: 500;
        }

        .quiz-content.hidden {
            display: none;
        }

        .question {
            margin-bottom: 30px;
        }

        .question h4 {
            color: #f3f4f6;
            margin-bottom: 15px;
            font-size: 1.05em;
            font-weight: 600;
        }

        .options {
            margin-left: 0;
        }

        .option {
            margin: 12px 0;
            padding: 15px;
            background: #1f2937;
            border: 2px solid #4b5563;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .option:hover {
            border-color: #3b82f6;
            background: #374151;
        }

        .option input {
            margin-right: 12px;
            cursor: pointer;
        }

        .option.correct {
            border-color: #059669;
            background: #064e3b;
        }

        .option.incorrect {
            border-color: #dc2626;
            background: #7f1d1d;
        }

        .option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .submit-quiz {
            width: 100%;
            margin-top: 20px;
        }

        .quiz-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .quiz-actions button {
            flex: 1;
        }

        .retry-btn {
            background: #0ea5e9;
        }

        .retry-btn:hover {
            background: #0284c7;
        }

        .results {
            margin-top: 30px;
            padding: 25px;
            border-radius: 8px;
            display: none;
        }

        .results.show {
            display: block;
        }

        .results.pass {
            background: #064e3b;
            border: 2px solid #059669;
            color: #d1fae5;
        }

        .results.fail {
            background: #7f1d1d;
            border: 2px solid #dc2626;
            color: #fecaca;
        }

        .completion-badge {
            text-align: center;
            padding: 40px;
        }

        .badge {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            background: #3b82f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            animation: bounce 1s;
            color: white;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .activity-container {
            background: #374151;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
        }

        .activity-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #4b5563;
        }

        .activity-header h3 {
            color: #f3f4f6;
            font-size: 1.4em;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .activity-header p {
            color: #9ca3af;
            margin: 5px 0;
            font-size: 0.95em;
        }

        .activity-instructions {
            background: rgba(30, 58, 138, 0.3);
            border-left: 4px solid #3b82f6;
            padding: 20px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .activity-instructions h4 {
            color: #f3f4f6;
            margin-bottom: 15px;
        }

        .activity-instructions ol, .activity-instructions ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .activity-instructions li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: #f3f4f6;
            margin-bottom: 8px;
        }

        .footer {
            text-align: center;
            padding: 25px;
            background: #111827;
            color: #9ca3af;
            font-size: 0.9em;
            border-top: 1px solid #374151;
        }
    </style>
    <style>
        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #4b5563;
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s;
            color: #f3f4f6;
            background: #1f2937;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.2);
        }

        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #4b5563;
            border-radius: 6px;
            font-size: 1em;
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
            color: #f3f4f6;
            background: #1f2937;
        }

        .form-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.2);
        }

        .problem-card {
            background: #374151;
            border: 1px solid #4b5563;
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }

        .problem-card h4 {
            color: #f3f4f6;
            margin-bottom: 20px;
            font-size: 1.15em;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .problem-number {
            background: #3b82f6;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            font-weight: 600;
            flex-shrink: 0;
        }

        .rubric-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95em;
        }

        .rubric-table th,
        .rubric-table td {
            border: 1px solid #4b5563;
            padding: 12px;
            text-align: left;
            color: #d1d5db;
        }

        .rubric-table th {
            background: #111827;
            color: white;
            font-weight: 600;
        }

        .rubric-table tr:nth-child(even) {
            background: #1f2937;
        }

        .important-rules {
            background: rgba(120, 53, 15, 0.2);
            border: 1px solid #92400e;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
        }

        .important-rules h4 {
            color: #fcd34d;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .important-rules ul {
            margin-left: 20px;
        }

        .important-rules li {
            color: #fcd34d;
            margin-bottom: 8px;
        }

        .download-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .download-btn:hover {
            background: #059669;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .activity-actions {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #4b5563;
        }

        /* PDF-specific styles */
        .pdf-content {
            background: white;
            color: black;
            padding: 20px;
        }

        .pdf-content h2, .pdf-content h3, .pdf-content h4, .pdf-content p, .pdf-content li, .pdf-content td {
             color: black !important;
        }

        .pdf-content .activity-header {
            border-bottom: 2px solid #333;
        }

        @media print {
            .activity-container {
                padding: 0;
            }
            .download-btn {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" style="color: white; text-decoration: none; font-size: 0.9em; display: inline-block; margin-bottom: 10px; opacity: 0.9;">‚Üê Back to Home</a>
            <h1>Introduction to Capstone</h1>
            <p>A Comprehensive Guide to Capstone Projects</p>
        </div>

        <div class="content">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>

            <!-- Section 1: Overview -->
            <div class="section active" id="section1">
                <h2>I. Overview of Programming Languages</h2>
                
                <p>Before diving into capstone projects, it's essential to understand the programming landscape. Modern software development relies on various programming languages, each designed for specific purposes and applications.</p>

                <div class="highlight-box">
                    <h3>Common Programming Languages</h3>
                    <ul>
                        <li><strong>Python:</strong> Versatile language for web development, data science, AI, and automation</li>
                        <li><strong>Java:</strong> Enterprise applications, Android development, and large-scale systems</li>
                        <li><strong>JavaScript:</strong> Web development, both frontend and backend (Node.js)</li>
                        <li><strong>C++:</strong> System programming, game development, and performance-critical applications</li>
                        <li><strong>C#:</strong> Windows applications, game development (Unity), and enterprise software</li>
                        <li><strong>PHP:</strong> Server-side web development and content management systems</li>
                        <li><strong>Swift/Kotlin:</strong> iOS and Android mobile application development</li>
                    </ul>
                </div>

                <p>Your capstone project will likely involve one or more of these languages depending on your chosen area and objectives. Understanding their strengths helps you select the right tools for your project.</p>
            </div>

            <!-- Section 2: What is Capstone -->
            <div class="section" id="section2">
                <h2>II. What is Capstone?</h2>
                
                <p>A capstone project is a culminating academic experience that demonstrates the knowledge, skills, and competencies you've acquired throughout your program of study. It serves as a bridge between academic learning and professional practice.</p>

                <div class="highlight-box">
                    <h3>Key Characteristics of Capstone Projects</h3>
                    <ul>
                        <li><strong>Integration:</strong> Combines multiple concepts and skills learned throughout your course</li>
                        <li><strong>Application:</strong> Applies theoretical knowledge to solve real-world problems</li>
                        <li><strong>Demonstration:</strong> Showcases your competency and readiness for professional work</li>
                        <li><strong>Independence:</strong> Requires self-directed learning and project management</li>
                        <li><strong>Innovation:</strong> Encourages creative problem-solving and original thinking</li>
                    </ul>
                </div>

                <h3>Purpose and Importance</h3>
                <p>Capstone projects serve multiple important purposes in your academic journey. They provide an opportunity to demonstrate mastery of program outcomes, develop professional portfolio pieces, gain practical experience in project planning and execution, and build confidence in your technical and problem-solving abilities. Additionally, they prepare you for real-world challenges in your chosen field and often serve as talking points during job interviews.</p>
            </div>

            <!-- Section 3: Capstone vs Thesis -->
            <div class="section" id="section3">
                <h2>III. Capstone vs. Thesis</h2>
                
                <p>While both capstone projects and theses are significant academic undertakings, they differ in fundamental ways. Understanding these differences helps you approach your capstone with the right mindset and expectations.</p>

                <div class="highlight-box">
                    <h3>Capstone Project</h3>
                    <ul>
                        <li><strong>Focus:</strong> Practical application and problem-solving</li>
                        <li><strong>Outcome:</strong> Working product, system, or solution</li>
                        <li><strong>Approach:</strong> Applied, hands-on development</li>
                        <li><strong>Evaluation:</strong> Based on functionality, usability, and implementation</li>
                        <li><strong>Documentation:</strong> Technical documentation and user guides</li>
                        <li><strong>Timeframe:</strong> Typically one or two semesters</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h3>Thesis</h3>
                    <ul>
                        <li><strong>Focus:</strong> Original research and theoretical contribution</li>
                        <li><strong>Outcome:</strong> Research findings and scholarly paper</li>
                        <li><strong>Approach:</strong> Research methodology and analysis</li>
                        <li><strong>Evaluation:</strong> Based on research rigor and academic contribution</li>
                        <li><strong>Documentation:</strong> Formal academic paper with extensive literature review</li>
                        <li><strong>Timeframe:</strong> Often extends beyond one academic year</li>
                    </ul>
                </div>

                <p>In essence, a capstone emphasizes doing and building, while a thesis emphasizes discovering and proving. Both are valuable, but capstone projects are particularly relevant for preparing students for industry roles.</p>
            </div>

            <!-- Section 4: Project Areas -->
            <div class="section" id="section4">
                <h2>IV. Capstone Project Areas</h2>
                
                <p>Capstone projects in computer science and information technology can span numerous domains. Here are the major project areas you can explore:</p>

                <div class="project-areas">
                    <div class="project-card">
                        <h4>üåê Web Development</h4>
                        <p>Full-stack applications, e-commerce platforms, content management systems, social networking sites, and web-based tools.</p>
                    </div>

                    <div class="project-card">
                        <h4>üì± Mobile Applications</h4>
                        <p>iOS and Android apps, cross-platform solutions, mobile games, productivity tools, and location-based services.</p>
                    </div>

                    <div class="project-card">
                        <h4>ü§ñ Artificial Intelligence</h4>
                        <p>Machine learning models, chatbots, recommendation systems, computer vision applications, and natural language processing tools.</p>
                    </div>

                    <div class="project-card">
                        <h4>üìä Data Science</h4>
                        <p>Data analysis platforms, visualization dashboards, predictive analytics tools, and business intelligence systems.</p>
                    </div>

                    <div class="project-card">
                        <h4>üîí Cybersecurity</h4>
                        <p>Security audit tools, encryption systems, vulnerability scanners, network monitoring applications, and authentication systems.</p>
                    </div>

                    <div class="project-card">
                        <h4>üéÆ Game Development</h4>
                        <p>2D/3D games, educational games, simulation software, game engines, and interactive entertainment.</p>
                    </div>

                    <div class="project-card">
                        <h4>‚òÅÔ∏è Cloud Computing</h4>
                        <p>Cloud-based applications, serverless solutions, distributed systems, and cloud infrastructure tools.</p>
                    </div>

                    <div class="project-card">
                        <h4>üåê Internet of Things</h4>
                        <p>Smart home systems, wearable technology, sensor networks, and connected device applications.</p>
                    </div>
                </div>

                <p>Each area offers unique challenges and opportunities. Consider your interests, skills, available resources, and career goals when selecting your project area.</p>
            </div>

            <!-- Section 5: Good Capstone Project -->
            <div class="section" id="section5">
                <h2>V. Characteristics of a Good Capstone Project</h2>
                
                <p>Not all capstone projects are created equal. A successful capstone project should meet specific criteria that ensure it's both challenging and achievable.</p>

                <h3>Essential Qualities</h3>
                <div class="highlight-box">
                    <ul>
                        <li><strong>Realistic Scope:</strong> Ambitious enough to showcase skills but completable within the timeframe</li>
                        <li><strong>Clear Objectives:</strong> Well-defined goals and measurable outcomes</li>
                        <li><strong>Practical Value:</strong> Solves a real problem or addresses a genuine need</li>
                        <li><strong>Technical Depth:</strong> Demonstrates substantial technical competency</li>
                        <li><strong>Innovation:</strong> Shows creativity or improvement over existing solutions</li>
                        <li><strong>Documentation:</strong> Includes comprehensive technical documentation</li>
                        <li><strong>Usability:</strong> User-friendly and functional interface</li>
                        <li><strong>Sustainability:</strong> Can be maintained or extended in the future</li>
                    </ul>
                </div>

                <h3>Project Selection Tips</h3>
                <p>When choosing your capstone project, ask yourself these questions:</p>
                <ul>
                    <li>Am I genuinely interested in this problem or domain?</li>
                    <li>Do I have or can I acquire the necessary technical skills?</li>
                    <li>Can I complete this project within the given timeframe?</li>
                    <li>Are the required resources and tools available to me?</li>
                    <li>Will this project enhance my portfolio and career prospects?</li>
                    <li>Does it demonstrate multiple competencies from my program?</li>
                    <li>Is there a real user or beneficiary for this project?</li>
                </ul>

                <div class="highlight-box">
                    <h3>Red Flags to Avoid</h3>
                    <ul>
                        <li>Projects that are too simple or trivial</li>
                        <li>Overly ambitious projects that can't be completed</li>
                        <li>Projects with unclear or vague objectives</li>
                        <li>Topics you have no interest in or knowledge about</li>
                        <li>Projects requiring resources you don't have access to</li>
                        <li>Simply replicating existing applications without innovation</li>
                    </ul>
                </div>
            </div>

            <!-- Quiz Section -->
            <div class="section" id="section6">
                <h2>üìù Quiz 01: Introduction to Capstone</h2>
                
                <p>Test your understanding of the material covered in this lesson. You need to score at least 70% to pass.</p>

                <div class="pincode-overlay" id="pincodeOverlay">
                    <h3>üîê Enter Quiz Pincode</h3>
                    <p>Please enter the pincode to access the quiz.</p>
                    <input type="password" class="pincode-input" id="pincodeInput" placeholder="Enter pincode" maxlength="10">
                    <button onclick="verifyPincode()">Unlock Quiz</button>
                    <p class="pincode-error" id="pincodeError">‚ùå Incorrect pincode. Please try again.</p>
                </div>

                <div class="quiz-section quiz-content hidden" id="quizContent">
                    <div class="question">
                        <h4>1. What is the primary focus of a capstone project?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q1" value="a">
                                Conducting original research and publishing findings
                            </label>
                            <label class="option">
                                <input type="radio" name="q1" value="b">
                                Practical application of knowledge to solve real-world problems
                            </label>
                            <label class="option">
                                <input type="radio" name="q1" value="c">
                                Writing a lengthy academic paper with extensive citations
                            </label>
                            <label class="option">
                                <input type="radio" name="q1" value="d">
                                Memorizing theoretical concepts and definitions
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>2. Which programming language is commonly used for Android mobile development?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q2" value="a">
                                Swift
                            </label>
                            <label class="option">
                                <input type="radio" name="q2" value="b">
                                PHP
                            </label>
                            <label class="option">
                                <input type="radio" name="q2" value="c">
                                Kotlin
                            </label>
                            <label class="option">
                                <input type="radio" name="q2" value="d">
                                Ruby
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>3. How does a capstone project differ from a thesis?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q3" value="a">
                                Capstone focuses on practical application while thesis focuses on research
                            </label>
                            <label class="option">
                                <input type="radio" name="q3" value="b">
                                Capstone is longer and more complex than a thesis
                            </label>
                            <label class="option">
                                <input type="radio" name="q3" value="c">
                                Capstone requires more literature review than a thesis
                            </label>
                            <label class="option">
                                <input type="radio" name="q3" value="d">
                                There is no significant difference between them
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>4. Which of the following is NOT a typical capstone project area?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q4" value="a">
                                Web Development
                            </label>
                            <label class="option">
                                <input type="radio" name="q4" value="b">
                                Artificial Intelligence
                            </label>
                            <label class="option">
                                <input type="radio" name="q4" value="c">
                                Medieval History Research
                            </label>
                            <label class="option">
                                <input type="radio" name="q4" value="d">
                                Internet of Things
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>5. What is an essential characteristic of a good capstone project?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q5" value="a">
                                It must be the most complex project ever attempted
                            </label>
                            <label class="option">
                                <input type="radio" name="q5" value="b">
                                It should have a realistic scope that can be completed in the timeframe
                            </label>
                            <label class="option">
                                <input type="radio" name="q5" value="c">
                                It must use every programming language you've learned
                            </label>
                            <label class="option">
                                <input type="radio" name="q5" value="d">
                                It should avoid any innovation or creativity
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>6. Which statement best describes the purpose of a capstone project?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q6" value="a">
                                To fulfill a course requirement with minimal effort
                            </label>
                            <label class="option">
                                <input type="radio" name="q6" value="b">
                                To demonstrate mastery and bridge academic learning with professional practice
                            </label>
                            <label class="option">
                                <input type="radio" name="q6" value="c">
                                To copy existing projects from online sources
                            </label>
                            <label class="option">
                                <input type="radio" name="q6" value="d">
                                To write as many pages of documentation as possible
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>7. When selecting a capstone project, which question should you ask yourself?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q7" value="a">
                                Can I complete this by copying code from GitHub?
                            </label>
                            <label class="option">
                                <input type="radio" name="q7" value="b">
                                Will this enhance my portfolio and career prospects?
                            </label>
                            <label class="option">
                                <input type="radio" name="q7" value="c">
                                Is this the easiest possible project I can do?
                            </label>
                            <label class="option">
                                <input type="radio" name="q7" value="d">
                                Does everyone else want to do this project?
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>8. What type of outcome is expected from a capstone project?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q8" value="a">
                                A published research paper in a peer-reviewed journal
                            </label>
                            <label class="option">
                                <input type="radio" name="q8" value="b">
                                A working product, system, or solution
                            </label>
                            <label class="option">
                                <input type="radio" name="q8" value="c">
                                A collection of theoretical equations
                            </label>
                            <label class="option">
                                <input type="radio" name="q8" value="d">
                                An extensive literature review only
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>9. Which is a red flag when choosing a capstone project?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q9" value="a">
                                The project solves a real-world problem
                            </label>
                            <label class="option">
                                <input type="radio" name="q9" value="b">
                                The project has clear, measurable objectives
                            </label>
                            <label class="option">
                                <input type="radio" name="q9" value="c">
                                The project is overly ambitious and cannot be completed
                            </label>
                            <label class="option">
                                <input type="radio" name="q9" value="d">
                                The project demonstrates multiple competencies
                            </label>
                        </div>
                    </div>

                    <div class="question">
                        <h4>10. What is the typical timeframe for completing a capstone project?</h4>
                        <div class="options">
                            <label class="option">
                                <input type="radio" name="q10" value="a">
                                One week
                            </label>
                            <label class="option">
                                <input type="radio" name="q10" value="b">
                                One or two semesters
                            </label>
                            <label class="option">
                                <input type="radio" name="q10" value="c">
                                Five years
                            </label>
                            <label class="option">
                                <input type="radio" name="q10" value="d">
                                One month
                            </label>
                        </div>
                    </div>

                    <div class="quiz-actions">
                        <button class="submit-quiz" onclick="submitQuiz()">Submit Quiz</button>
                    </div>

                    <div class="results" id="results"></div>
                </div>
            </div>

            <!-- Activity Section -->
            <div class="section" id="section7">
                <h2>üìù Activity: Domain Problem Scoping</h2>
                
                <div class="activity-container">
                    <div class="activity-header">
                        <h3>Activity Handout: Domain Problem Scoping</h3>
                        <p><strong>Course:</strong> CAP 01 - Capstone Project 1</p>
                        <p><strong>Week:</strong> 2</p>
                        <p><strong>Activity Title:</strong> Problem Identification and Domain Analysis</p>
                        <p><strong>Format:</strong> Individual Submission</p>
                        <p><strong>Due Date:</strong> End of Laboratory Session</p>
                    </div>

                    <div class="activity-instructions">
                        <h4>I. Instructions</h4>
                        <p><strong>Context:</strong> A successful Capstone Project begins not with a "solution" (e.g., "I want to make an app"), but with a "problem" (e.g., "Patients wait 4 hours because files are manual"). Your goal in this activity is to observe the world around you, select a target domain, and identify specific inefficiencies that Information Technology can solve.</p>
                        
                        <h4 style="margin-top: 20px;">The Task</h4>
                        <ol>
                            <li><strong>Select a Domain:</strong> Choose ONE (1) realistic domain from the list:
                                <ul style="margin-top: 10px;">
                                    <li>Educational Institution (e.g., A specific school, college office, or library)</li>
                                    <li>Healthcare Facility (e.g., A local clinic, pharmacy, or barangay health center)</li>
                                    <li>Local Business (e.g., A grocery store, hardware supply, restaurant, or rental service)</li>
                                    <li>Government Unit (e.g., Barangay hall, municipal office, police station)</li>
                                </ul>
                            </li>
                            <li><strong>Identify Three Problems:</strong> For your chosen domain, list THREE (3) distinct operational problems. These must be manual processes that are slow, error-prone, or insecure.</li>
                            <li><strong>Propose Potential Solutions:</strong> For each problem, suggest a high-level IT solution (e.g., Web App, Mobile App, Kiosk).</li>
                            <li><strong>Justify:</strong> Explain why this needs to be solved. (Is it costing money? Wasting time? Losing data?)</li>
                        </ol>
                    </div>

                    <div id="activityForm">
                        <h3 style="color: #1f2937; margin: 30px 0 20px;">II. Submission Form</h3>
                        
                        <div class="form-group">
                            <label for="studentName">Student Name:</label>
                            <input type="text" id="studentName" placeholder="Enter your full name">
                        </div>

                        <div class="form-group">
                            <label for="section">Section:</label>
                            <input type="text" id="section" placeholder="Enter your section">
                        </div>

                        <div class="form-group">
                            <label for="activityDate">Date:</label>
                            <input type="date" id="activityDate">
                        </div>

                        <div class="form-group">
                            <label for="chosenDomain">Chosen Domain:</label>
                            <select id="chosenDomain">
                                <option value="">-- Select a Domain --</option>
                                <option value="Educational Institution">Educational Institution</option>
                                <option value="Healthcare Facility">Healthcare Facility</option>
                                <option value="Local Business">Local Business</option>
                                <option value="Government Unit">Government Unit</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="domainSpecific">Specific Location/Name (e.g., St. Jude Community Clinic):</label>
                            <input type="text" id="domainSpecific" placeholder="Enter the specific name of your chosen domain">
                        </div>

                        <!-- Problem 1 -->
                        <div class="problem-card">
                            <h4><span class="problem-number">1</span> Problem 1</h4>
                            
                            <div class="form-group">
                                <label for="problem1Title">Title:</label>
                                <input type="text" id="problem1Title" placeholder="e.g., Manual Patient Record Retrieval">
                            </div>

                            <div class="form-group">
                                <label for="problem1Description">Description:</label>
                                <textarea id="problem1Description" placeholder="Describe the current manual process. e.g., 'Nurses currently search through physical filing cabinets for patient history. This takes 15-20 minutes per patient and files are often misplaced.'"></textarea>
                            </div>

                            <div class="form-group">
                                <label for="problem1Solution">Proposed IT Solution:</label>
                                <input type="text" id="problem1Solution" placeholder="e.g., Local Area Network (LAN) Patient Information System with Search Indexing">
                            </div>

                            <div class="form-group">
                                <label for="problem1Users">Target Users:</label>
                                <input type="text" id="problem1Users" placeholder="e.g., Nurses and Doctor">
                            </div>
                        </div>

                        <!-- Problem 2 -->
                        <div class="problem-card">
                            <h4><span class="problem-number">2</span> Problem 2</h4>
                            
                            <div class="form-group">
                                <label for="problem2Title">Title:</label>
                                <input type="text" id="problem2Title" placeholder="Enter problem title">
                            </div>

                            <div class="form-group">
                                <label for="problem2Description">Description:</label>
                                <textarea id="problem2Description" placeholder="Describe the current manual process and its inefficiencies"></textarea>
                            </div>

                            <div class="form-group">
                                <label for="problem2Solution">Proposed IT Solution:</label>
                                <input type="text" id="problem2Solution" placeholder="Enter your proposed IT solution">
                            </div>

                            <div class="form-group">
                                <label for="problem2Users">Target Users:</label>
                                <input type="text" id="problem2Users" placeholder="Enter target users">
                            </div>
                        </div>

                        <!-- Problem 3 -->
                        <div class="problem-card">
                            <h4><span class="problem-number">3</span> Problem 3</h4>
                            
                            <div class="form-group">
                                <label for="problem3Title">Title:</label>
                                <input type="text" id="problem3Title" placeholder="Enter problem title">
                            </div>

                            <div class="form-group">
                                <label for="problem3Description">Description:</label>
                                <textarea id="problem3Description" placeholder="Describe the current manual process and its inefficiencies"></textarea>
                            </div>

                            <div class="form-group">
                                <label for="problem3Solution">Proposed IT Solution:</label>
                                <input type="text" id="problem3Solution" placeholder="Enter your proposed IT solution">
                            </div>

                            <div class="form-group">
                                <label for="problem3Users">Target Users:</label>
                                <input type="text" id="problem3Users" placeholder="Enter target users">
                            </div>
                        </div>
                    </div>

                    <h3 style="color: #1f2937; margin: 30px 0 20px;">III. Grading Rubric (20 Points)</h3>
                    <table class="rubric-table">
                        <thead>
                            <tr>
                                <th>Criteria</th>
                                <th>Excellent (5 pts)</th>
                                <th>Good (3 pts)</th>
                                <th>Needs Improvement (1 pt)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Problem Clarity</strong></td>
                                <td>The problem is specific, localized, and clearly describes a "pain point" (inefficiency).</td>
                                <td>The problem is stated but somewhat generic (e.g., "It is slow").</td>
                                <td>The problem is vague or not actually a problem (e.g., "They don't have an app").</td>
                            </tr>
                            <tr>
                                <td><strong>Relevance to BSIT/IS</strong></td>
                                <td>The problem is solvable by an IT solution (System/Software).</td>
                                <td>The problem is partially solvable by IT but involves too much hardware or policy change.</td>
                                <td>The problem is not IT-related (e.g., "Not enough staff").</td>
                            </tr>
                            <tr>
                                <td><strong>Solution Feasibility</strong></td>
                                <td>The proposed solution is realistic for a student Capstone project.</td>
                                <td>The solution is slightly too simple or too ambitious.</td>
                                <td>The solution is impossible (e.g., "Build a satellite") or trivial (e.g., "Excel sheet").</td>
                            </tr>
                            <tr>
                                <td><strong>Variety</strong></td>
                                <td>3 distinct problems are identified.</td>
                                <td>2 distinct problems are identified.</td>
                                <td>Only 1 problem identified or problems are repetitions.</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="important-rules">
                        <h4>‚ö†Ô∏è IV. Important Rules</h4>
                        <ul>
                            <li><strong>No AI Generation:</strong> Your problem descriptions must reference real-world observations. Generic, AI-generated text will receive a grade of 0.</li>
                            <li><strong>No "Inventory Systems" without Context:</strong> Do not just write "Inventory System." You must explain what is being counted and why the current counting method is failing.</li>
                            <li><strong>Defensibility:</strong> Be prepared to answer why you chose these problems during the class wrap-up.</li>
                        </ul>
                    </div>

                    <div class="activity-actions">
                        <button class="download-btn" onclick="downloadActivityPDF()">
                            üì• Download as PDF
                        </button>
                    </div>
                </div>
            </div>

            <!-- Completion Section -->
            <div class="section" id="section8">
                <div class="completion-badge">
                    <div class="badge">üéì</div>
                    <h2>Congratulations!</h2>
                    <p>You have completed the Introduction to Capstone lesson.</p>
                    <p style="margin-top: 20px;">You are now ready to begin planning your capstone project. Remember to choose a project area that aligns with your interests and career goals!</p>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="nav-buttons">
                <button id="prevBtn" onclick="navigate(-1)">‚Üê Previous</button>
                <button id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 1;
        const totalSections = 8;
        const answers = {
            q1: 'b', q2: 'c', q3: 'a', q4: 'c', q5: 'b',
            q6: 'b', q7: 'b', q8: 'b', q9: 'c', q10: 'b'
        };
        const QUIZ_PINCODE = '17350';

        function verifyPincode() {
            const input = document.getElementById('pincodeInput');
            const error = document.getElementById('pincodeError');
            const overlay = document.getElementById('pincodeOverlay');
            const quizContent = document.getElementById('quizContent');
            
            if (input.value === QUIZ_PINCODE) {
                overlay.style.display = 'none';
                quizContent.classList.remove('hidden');
                error.style.display = 'none';
            } else {
                error.style.display = 'block';
                input.value = '';
                input.focus();
            }
        }

        // Allow Enter key to submit pincode
        document.addEventListener('DOMContentLoaded', function() {
            const pincodeInput = document.getElementById('pincodeInput');
            if (pincodeInput) {
                pincodeInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        verifyPincode();
                    }
                });
            }
        });

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function navigate(direction) {
            const sections = document.querySelectorAll('.section');
            sections[currentSection - 1].classList.remove('active');
            
            currentSection += direction;
            
            if (currentSection < 1) currentSection = 1;
            if (currentSection > totalSections) currentSection = totalSections;
            
            sections[currentSection - 1].classList.add('active');
            
            document.getElementById('prevBtn').disabled = currentSection === 1;
            document.getElementById('nextBtn').style.display = currentSection === totalSections ? 'none' : 'block';
            
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function submitQuiz() {
            let score = 0;
            let total = 10;
            let allAnswered = true;
            
            // Check if all questions are answered
            for (let i = 1; i <= total; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (!selected) {
                    allAnswered = false;
                    break;
                }
            }
            
            if (!allAnswered) {
                alert('‚ö†Ô∏è Please answer all questions before submitting!');
                return;
            }
            
            // Grade the quiz and highlight answers
            for (let i = 1; i <= total; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const correctAnswer = answers[`q${i}`];
                const allOptions = document.querySelectorAll(`input[name="q${i}"]`);
                
                allOptions.forEach(option => {
                    const label = option.parentElement;
                    label.classList.add('disabled');
                    
                    if (option.value === correctAnswer) {
                        label.classList.add('correct');
                    }
                    
                    if (option.checked && option.value !== correctAnswer) {
                        label.classList.add('incorrect');
                    }
                });
                
                if (selected && selected.value === correctAnswer) {
                    score++;
                }
            }
            
            const percentage = (score / total) * 100;
            const resultsDiv = document.getElementById('results');
            const passed = percentage >= 70;
            
            resultsDiv.className = 'results show ' + (passed ? 'pass' : 'fail');
            resultsDiv.innerHTML = `
                <h3>${passed ? '‚úÖ Congratulations! Quiz Passed!' : '‚ùå Quiz Not Passed'}</h3>
                <p style="font-size: 1.5em; margin: 15px 0; font-weight: bold;">Score: ${score}/${total} (${percentage.toFixed(0)}%)</p>
                <p style="font-size: 1.1em;">${passed ? 
                    'Excellent work! You have demonstrated a good understanding of capstone projects. Click "Next" to proceed to the completion section.' : 
                    'You need at least 70% to pass (7/10 correct). Review the incorrect answers highlighted in red above, then click "Retry Quiz" to try again.'
                }</p>
            `;
            
            // Update button visibility
            const quizActions = document.querySelector('.quiz-actions');
            if (passed) {
                quizActions.innerHTML = '<button class="submit-quiz" onclick="resetQuiz()">Retry Quiz</button>';
                document.getElementById('nextBtn').style.display = 'block';
                document.getElementById('nextBtn').disabled = false;
            } else {
                quizActions.innerHTML = '<button class="retry-btn" onclick="resetQuiz()">Retry Quiz</button>';
                document.getElementById('nextBtn').style.display = 'none';
            }
            
            // Scroll to results
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function resetQuiz() {
            // Clear all selections
            for (let i = 1; i <= 10; i++) {
                const options = document.querySelectorAll(`input[name="q${i}"]`);
                options.forEach(option => {
                    option.checked = false;
                    const label = option.parentElement;
                    label.classList.remove('correct', 'incorrect', 'disabled');
                });
            }
            
            // Hide results
            const resultsDiv = document.getElementById('results');
            resultsDiv.className = 'results';
            resultsDiv.innerHTML = '';
            
            // Reset button
            const quizActions = document.querySelector('.quiz-actions');
            quizActions.innerHTML = '<button class="submit-quiz" onclick="submitQuiz()">Submit Quiz</button>';
            
            // Scroll to top of quiz
            document.querySelector('.quiz-section').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize
        document.getElementById('prevBtn').disabled = true;
        updateProgress();

        // Download Activity as PDF
        function downloadActivityPDF() {
            // Get form values
            const studentName = document.getElementById('studentName').value || '_______________';
            const section = document.getElementById('section').value || '_______________';
            const activityDate = document.getElementById('activityDate').value || '_______________';
            const chosenDomain = document.getElementById('chosenDomain').value || '_______________';
            const domainSpecific = document.getElementById('domainSpecific').value || '_______________';
            
            const problem1Title = document.getElementById('problem1Title').value || '_______________';
            const problem1Description = document.getElementById('problem1Description').value || '_______________';
            const problem1Solution = document.getElementById('problem1Solution').value || '_______________';
            const problem1Users = document.getElementById('problem1Users').value || '_______________';
            
            const problem2Title = document.getElementById('problem2Title').value || '_______________';
            const problem2Description = document.getElementById('problem2Description').value || '_______________';
            const problem2Solution = document.getElementById('problem2Solution').value || '_______________';
            const problem2Users = document.getElementById('problem2Users').value || '_______________';
            
            const problem3Title = document.getElementById('problem3Title').value || '_______________';
            const problem3Description = document.getElementById('problem3Description').value || '_______________';
            const problem3Solution = document.getElementById('problem3Solution').value || '_______________';
            const problem3Users = document.getElementById('problem3Users').value || '_______________';

            // Generate filename with sanitization to prevent security issues
            let safeStudentName = studentName !== '_______________' 
                ? studentName.replace(/[^a-zA-Z0-9\s]/g, '').replace(/\s+/g, '_').substring(0, 50)
                : '';
            const filename = safeStudentName 
                ? `Domain_Problem_Scoping_${safeStudentName}.pdf`
                : 'Domain_Problem_Scoping_Activity.pdf';

            // Create PDF content using an iframe approach for proper isolation
            const iframe = document.createElement('iframe');
            iframe.style.cssText = 'position: fixed; left: 0; top: 0; width: 794px; height: 1200px; border: none; z-index: 99999; background: white;';
            document.body.appendChild(iframe);
            
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            iframeDoc.open();
            iframeDoc.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <style>
                        * { margin: 0; padding: 0; box-sizing: border-box; }
                        body { font-family: Arial, sans-serif; color: #000; line-height: 1.6; padding: 40px; background: white; }
                        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 20px; }
                        .header h2 { margin: 0; color: #1f2937; font-size: 24px; }
                        .header p { margin: 5px 0; font-size: 14px; }
                        .info p { margin: 8px 0; font-size: 14px; }
                        .problem-box { border: 1px solid #d1d5db; border-radius: 8px; padding: 20px; margin-bottom: 20px; background: #fff; }
                        .problem-box h3 { color: #1f2937; margin: 0 0 15px 0; font-size: 18px; }
                        .problem-box p { margin: 8px 0; font-size: 14px; }
                        .rubric { margin-top: 30px; padding: 15px; background: #f3f4f6; border-radius: 8px; }
                        .rubric h4 { margin: 0 0 15px 0; color: #78350f; font-size: 16px; }
                        table { width: 100%; border-collapse: collapse; font-size: 11px; }
                        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                        th { background: #374151; color: white; }
                        tr:nth-child(even) { background: #f9f9f9; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <h2>Activity Handout: Domain Problem Scoping</h2>
                        <p><strong>Course:</strong> CAP 01 - Capstone Project 1</p>
                        <p><strong>Week:</strong> 2</p>
                        <p><strong>Activity Title:</strong> Problem Identification and Domain Analysis</p>
                        <p><strong>Format:</strong> Individual Submission</p>
                    </div>

                    <div class="info" style="margin-bottom: 25px;">
                        <p><strong>Student Name:</strong> ${studentName}</p>
                        <p><strong>Section:</strong> ${section}</p>
                        <p><strong>Date:</strong> ${activityDate}</p>
                        <p><strong>Chosen Domain:</strong> ${chosenDomain} - ${domainSpecific}</p>
                    </div>

                    <div class="problem-box">
                        <h3>Problem 1</h3>
                        <p><strong>Title:</strong> ${problem1Title}</p>
                        <p><strong>Description:</strong> ${problem1Description}</p>
                        <p><strong>Proposed IT Solution:</strong> ${problem1Solution}</p>
                        <p><strong>Target Users:</strong> ${problem1Users}</p>
                    </div>

                    <div class="problem-box">
                        <h3>Problem 2</h3>
                        <p><strong>Title:</strong> ${problem2Title}</p>
                        <p><strong>Description:</strong> ${problem2Description}</p>
                        <p><strong>Proposed IT Solution:</strong> ${problem2Solution}</p>
                        <p><strong>Target Users:</strong> ${problem2Users}</p>
                    </div>

                    <div class="problem-box">
                        <h3>Problem 3</h3>
                        <p><strong>Title:</strong> ${problem3Title}</p>
                        <p><strong>Description:</strong> ${problem3Description}</p>
                        <p><strong>Proposed IT Solution:</strong> ${problem3Solution}</p>
                        <p><strong>Target Users:</strong> ${problem3Users}</p>
                    </div>

                    <div class="rubric">
                        <h4>Grading Rubric (20 Points)</h4>
                        <table>
                            <tr>
                                <th>Criteria</th>
                                <th>Excellent (5 pts)</th>
                                <th>Good (3 pts)</th>
                                <th>Needs Improvement (1 pt)</th>
                            </tr>
                            <tr>
                                <td><strong>Problem Clarity</strong></td>
                                <td>Specific, localized, clearly describes inefficiency</td>
                                <td>Somewhat generic</td>
                                <td>Vague or not a problem</td>
                            </tr>
                            <tr>
                                <td><strong>Relevance to BSIT/IS</strong></td>
                                <td>Solvable by IT solution</td>
                                <td>Partially solvable by IT</td>
                                <td>Not IT-related</td>
                            </tr>
                            <tr>
                                <td><strong>Solution Feasibility</strong></td>
                                <td>Realistic for student project</td>
                                <td>Too simple or ambitious</td>
                                <td>Impossible or trivial</td>
                            </tr>
                            <tr>
                                <td><strong>Variety</strong></td>
                                <td>3 distinct problems</td>
                                <td>2 distinct problems</td>
                                <td>1 or repetitive problems</td>
                            </tr>
                        </table>
                    </div>
                </body>
                </html>
            `);
            iframeDoc.close();

            // Wait for iframe content to render
            setTimeout(function() {
                const iframeBody = iframeDoc.body;
                
                // Adjust iframe height to match content
                iframe.style.height = iframeBody.scrollHeight + 'px';
                
                // PDF options
                const opt = {
                    margin: [10, 10, 10, 10],
                    filename: filename,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { 
                        scale: 2,
                        useCORS: true,
                        allowTaint: true,
                        backgroundColor: '#ffffff',
                        logging: true
                    },
                    jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                };

                html2pdf().set(opt).from(iframeBody).save().then(function() {
                    iframe.remove();
                }).catch(function(error) {
                    console.error('PDF generation failed:', error);
                    alert('PDF generation failed. Please try again.');
                    iframe.remove();
                });
            }, 500);
        }
    </script>
</body>
</html>